<script setup></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const cards = document.querySelectorAll('.subteam');

  cards.forEach(card => {
    const image = card.querySelector('.image');
    const subteamName = card.querySelector('.subteamName');
    const subteamExplanation = card.querySelector('.subteamExplanation');
    // const button = card.querySelector('.button')
    const arrow = card.querySelector('.arrow')

    function toggleText() {
      if (subteamExplanation.style.maxHeight === '0px') 
      {
        // Affiche le texte et tourne la flèche
        subteamExplanation.style.maxHeight = '60%';
        image.style.maxHeight = "20%"
        arrow.innerHTML = '<i class="fa-solid fa-chevron-down"></i>';
      } 
      else 
      {
        // Cache le texte et retourne la flèche
        subteamExplanation.style.maxHeight = '0px';
        image.style.maxHeight = "80%"
        arrow.innerHTML = '<i class="fa-solid fa-chevron-up"></i>';
      }
    }

    // button.addEventListener('click', toggleText);
    subteamName.addEventListener('click', toggleText);
  });
});</script>

<template>
    <main>
        <!-- <p>
            explication des subteams
        </p> -->
        <ul>
            <li class="programming subteam">
                <div class = "image"></div>
                <div class = "subteamName">
                    <p>Programming&nbsp;<span class = "arrow"><i class="fa-solid fa-chevron-up"></i></span></p>
                </div>
                <div class = "subteamExplanation">
                    Lorem ipsum odor amet, consectetuer adipiscing elit. Sed leo nascetur integer facilisis accumsan aliquet elementum phasellus vitae. Tempus dis mauris integer nostra hac. Metus porta lacus ultricies fermentum mollis curabitur pharetra risus. Nam nullam class imperdiet iaculis felis taciti fringilla porta. Congue taciti leo bibendum feugiat tristique. Nam dictumst id ligula at scelerisque ex euismod. Imperdiet nisl natoque varius mauris quisque. Consequat lacinia nascetur tellus dignissim nibh, dolor neque eleifend.
                </div>
            </li>
            <li class="SND subteam">
                <div class = "image"></div>
                <div class = "subteamName">
                    <p>SnD&nbsp;<span class = "arrow"><i class="fa-solid fa-chevron-up"></i></span></p>
                </div>
                <div class = "subteamExplanation">
                    Lorem ipsum odor amet, consectetuer adipiscing elit. Sed leo nascetur integer facilisis accumsan aliquet elementum phasellus vitae. Tempus dis mauris integer nostra hac. Metus porta lacus ultricies fermentum mollis curabitur pharetra risus. Nam nullam class imperdiet iaculis felis taciti fringilla porta. Congue taciti leo bibendum feugiat tristique. Nam dictumst id ligula at scelerisque ex euismod. Imperdiet nisl natoque varius mauris quisque. Consequat lacinia nascetur tellus dignissim nibh, dolor neque eleifend.
                </div>
            </li>
            <li class="construction subteam">
                <div class = "image"></div>
                <div class = "subteamName">
                    <p>Construction&nbsp;<span class = "arrow"><i class="fa-solid fa-chevron-up"></i></span></p>
                </div>
                <div class = "subteamExplanation">
                    Lorem ipsum odor amet, consectetuer adipiscing elit. Sed leo nascetur integer facilisis accumsan aliquet elementum phasellus vitae. Tempus dis mauris integer nostra hac. Metus porta lacus ultricies fermentum mollis curabitur pharetra risus. Nam nullam class imperdiet iaculis felis taciti fringilla porta. Congue taciti leo bibendum feugiat tristique. Nam dictumst id ligula at scelerisque ex euismod. Imperdiet nisl natoque varius mauris quisque. Consequat lacinia nascetur tellus dignissim nibh, dolor neque eleifend.
                </div>
            </li>
            <li class="marketing subteam">
                <div class = "image"></div>
                <div class = "subteamName">
                    <p>Marketing&nbsp;<span class = "arrow"><i class="fa-solid fa-chevron-up"></i></span></p>
                </div>
                <div class = "subteamExplanation">
                    Lorem ipsum odor amet, consectetuer adipiscing elit. Sed leo nascetur integer facilisis accumsan aliquet elementum phasellus vitae. Tempus dis mauris integer nostra hac. Metus porta lacus ultricies fermentum mollis curabitur pharetra risus. Nam nullam class imperdiet iaculis felis taciti fringilla porta. Congue taciti leo bibendum feugiat tristique. Nam dictumst id ligula at scelerisque ex euismod. Imperdiet nisl natoque varius mauris quisque. Consequat lacinia nascetur tellus dignissim nibh, dolor neque eleifend.
                </div>
            </li>
            <li class="medias subteam">
                <div class = "image"></div>
                <div class = "subteamName">
                    <p>Medias&nbsp;<span class = "arrow"><i class="fa-solid fa-chevron-up"></i></span></p>
                </div>
                <div class = "subteamExplanation">
                    Lorem ipsum odor amet, consectetuer adipiscing elit. Sed leo nascetur integer facilisis accumsan aliquet elementum phasellus vitae. Tempus dis mauris integer nostra hac. Metus porta lacus ultricies fermentum mollis curabitur pharetra risus. Nam nullam class imperdiet iaculis felis taciti fringilla porta. Congue taciti leo bibendum feugiat tristique. Nam dictumst id ligula at scelerisque ex euismod. Imperdiet nisl natoque varius mauris quisque. Consequat lacinia nascetur tellus dignissim nibh, dolor neque eleifend.
                </div>
            </li>
            <li class="design subteam">
                <div class = "image"></div>
                <div class = "subteamName">
                    <p>Design&nbsp;<span class = "arrow"><i class="fa-solid fa-chevron-up"></i></span></p>
                </div>
                <div class = "subteamExplanation">
                    Lorem ipsum odor amet, consectetuer adipiscing elit. Sed leo nascetur integer facilisis accumsan aliquet elementum phasellus vitae. Tempus dis mauris integer nostra hac. Metus porta lacus ultricies fermentum mollis curabitur pharetra risus. Nam nullam class imperdiet iaculis felis taciti fringilla porta. Congue taciti leo bibendum feugiat tristique. Nam dictumst id ligula at scelerisque ex euismod. Imperdiet nisl natoque varius mauris quisque. Consequat lacinia nascetur tellus dignissim nibh, dolor neque eleifend.
                </div>
            </li>
        </ul>
    </main>
</template>

<style scoped lang="scss">
@import "../assets/base.scss";

ul {
    display: flex;
    justify-content: space-evenly;
    width: 80vw;
    height: 90vh;
    gap: 15px;
    flex-flow: row wrap;
    padding: 10px;
    margin: auto;
}

li {
    background-color: $secondary;
    display: flex;
    list-style: none;
    width: 25vw;
    height: 40vh;
    border-radius: 10px;
    flex-flow: column nowrap;
    justify-content: flex-end;
    transition: 0.5s ease-in-out;
}

li * {
    border-radius: inherit;
    transition: inherit;
}

.design .image {
    background-image: url("images/Subteams_images_Temp/DesignTeam_Picture.jpg");
}

.programming .image {
    background-image: url("images/Subteams_images_Temp/ProgTeam_Picture.jpg");
}

.medias .image {
    background-image: url("images/Subteams_images_Temp/MediasTeam_Picture.jpg");
}

.construction .image {
    background-image: url("images/Subteams_images_Temp/ConstructionTeam_Picture.jpg");
}

.SND .image {
    background-image: url("images/Subteams_images_Temp/SnDTeam_Picture.jpg");
}

.marketing .image {
    background-image: url("images/Subteams_images_Temp/MarketingTeam_Picture.jpg");
}

.image {
    max-height: 80%;
    height: 100%;
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    z-index: 1;
}

.subteamName {
    display: flex;
    max-height: 20%;
    height: 100%;
    background-color: $secondary;
    color: $text;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.subteamExplanation {
    max-height: 0px;
    height: 100%;
    overflow: hidden;
    z-index: 2;
}

p {
    width: 100%;
    color: $text;
    cursor: pointer;
    text-align: center;
    padding: calc(4vh - 12px) 0;

    .arrow {
        color: $accent;
    }
}

p:hover {
    color: $accent;
    font-weight: 500;
}

</style>